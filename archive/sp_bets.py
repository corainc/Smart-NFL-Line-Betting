#!/usr/bin/env python
money = 31.77
money_pct = .9


# def p(last_year, wins, losses, ties, n=7):
def p(*args, n=7):
    games = args[:n]  # last n games
    return sum(g == 1 for g in games) / len(games)


# 20-21 season standings
standings = dict(
    WSH=p(-1, -1, -1, +1, +1, +1, +1, +1, -1, -1, -1, +1, -1, +1, -1, -1),
    NYG=p(-1, -1, -1, -1, +1, -1, +1, -1, +1, -1, -1, +1, -1, -1, -1, -1),
    DAL=p(+1, +1, +1, +1, -1, -1, +1, -1, +1, +1, +1, +1, +1, +1, -1, -1, -1),
    PHI=p(+1, +1, +1, -1, +1, +1, -1, +1, +1, -1, +1, -1, -1, -1, +1, +0),
    SEA=p(-1, -1, +1, +1, -1, -1, -1, +1, -1, -1, -1, +1, -1, -1, +1, +1),
    LAR=p(+1, +1, +1, +1, -1, -1, -1, +1, +1, -1, +1, +1, +1, -1, -1, -1),
    ARI=p(-1, -1, -1, +1, +1, -1, +1, -1, +1, +1, +1, +1, +1, +1, +1, -1),
    GB= p(+1, +1, +1, +1, -1, +1, -1, +1, +1, +1, +1, +1, +1, +1, -1, -1),
    CHI=p(+1, -1, -1, -1, +1, -1, -1, -1, -1, +1, +1, +1, -1, +1, -1, +1),
    MIN=p(-1, +1, +1, -1, -1, +1, +1, -1, -1, +1, +1, -1, +1, -1, -1, -1, -1),
    DET=p(-1, +1, -1, +1, -1, -1, +0, -1, -1, -1, -1, -1, -1, -1, -1, -1),
    NO= p(-1, +1, +1, -1, -1, -1, -1, -1, +1, +1, +1, -1, +1, -1, +1, +1, -1),
    TB =p(+1, -1, +1, +1, +1, +1, -1, -1, +1, +1, +1, +1, -1, +1, +1, +1),
    CAR=p(-1, -1, -1, -1, -1, +1, -1, +1, -1, -1, -1, -1, +1, +1, +1, +1),
    ATL=p(+1, -1, +1, -1, +1, -1, -1, +1, -1, +1, +1, -1, +1, -1, -1, -1, -1),
    BUF=p(+1, +1, -1, -1, +1, -1, +1, -1, +1, -1, +1, +1, +1, +1, -1, +1, +1),
    MIA=p(+1, +1, +1, +1, +1, +1, +1, -1, -1, -1, -1, -1, -1, -1, +1, +1),
    NE= p(-1, -1, +1, +1, +1, +1, +1, +1, +1, -1, +1, -1, -1, +1, +1, +1),
    NYJ=p(+1, -1, -1, -1, +1, -1, -1, -1, +1, -1, -1, +1, -1, -1, -1, +0, +1),
    KC= p(+1, +1, +1, +1, +1, +1, +1, +1, -1, +1, -1, +1, -1, -1, +1, +1),
    LV= p(+1, +1, -1, -1, +1, -1, -1, -1, +1, +1, -1, -1, +1, +1, +1, -1, +1),
    LAC=p(-1, -1, +1, +1, -1, +1, -1, +1, -1, -1, +1, +1, +1, -1, +1, -1, -1),
    DEN=p(-1, -1, +1, -1, +1, -1, +1, +1, -1, -1, -1, -1, +1, +1, +1, +1),
    PIT=p(-1, +1, -1, +1, -1, -1, +0, +1, +1, +1, +1, -1, -1, -1, +1, -1, +1),
    BAL=p(-1, -1, -1, -1, +1, +1, -1, +1, -1, +1, +1, +1, +1, +1, -1, +1, +1),
    CLE=p(-1, -1, +1, -1, +1, -1, +1, -1, +1, -1, -1, +1, +1, +1, -1, +1),
    CIN=p(+1, +1, -1, -1, +1, +1, -1, -1, +1, +1, -1, +1, +1, -1, +1, -1),
    TEN=p(+1, -1, +1, -1, -1, +1, +1, +1, +1, +1, +1, -1, +1, +1, -1, -1),
    IND=p(+1, +1, +1, -1, +1, +1, +1, -1, -1, +1, -1, -1, -1, +1, +1, +1),
    HOU=p(+1, +1, -1, -1, -1, +1, -1, -1, -1, -1, -1, -1, -1, -1, +1, -1),
    JAX=p(-1, -1, -1, -1, -1, -1, -1, +1, -1, +1, -1, -1, -1, -1, -1, +1, -1),
)
# week 8:
'''
standings = dict(
    WSH=p(.438, 2, 5, 0),
    NYG=p(.375, 2, 5, 0),
    DAL=p(.375, 5, 1, 0),
    PHI=p(.281, 2, 5, 0),
    SEA=p(.750, 2, 5, 0),
    LAR=p(.625, 6, 1, 0),
    ARI=p(.500, 7, 0, 0),
    GB=p(.813, 6, 1, 0),
    CHI=p(.500, 3, 4, 0),
    MIN=p(.438, 3, 3, 0),
    DET=p(.313, 0, 7, 0),
    NO=p(.750, 4, 2, 0),
    TB=p(.688, 6, 1, 0),
    CAR=p(.313, 3, 4, 0),
    ATL=p(.250, 3, 3, 0),
    BUF=p(.813, 4, 2, 0),
    MIA=p(.625, 1, 6, 0),
    NE=p(.438, 3, 4, 0),
    NYJ=p(.125, 1, 5, 0),
    KC=p(.875, 3, 4, 0),
    LV=p(.500, 5, 2, 0),
    LAC=p(.438, 4, 2, 0),
    DEN=p(.313, 3, 4, 0),
    PIT=p(.750, 3, 3, 0),
    BAL=p(.688, 5, 2, 0),
    CLE=p(.688, 4, 3, 0),
    CIN=p(.281, 5, 2, 0),
    TEN=p(.688, 5, 2, 0),
    IND=p(.688, 3, 4, 0),
    HOU=p(.250, 1, 6, 0),
    JAX=p(.063, 1, 5, 0),
)
'''
print('Standings')
from pprint import pprint
pprint(standings)
ss = sorted(standings.items(), key=lambda x: x[1])
worst = ss[:3]
best = ss[-3:]

tot = sum(x[1] for x in best)
tot += sum(1 - x[1] for x in worst)

money_tot = money * money_pct

for team, pct in best:
    bet = money_tot * pct / tot
    print(f'best bet (for): {team} ${bet:.2f}')
for team, pct in worst:
    bet = money_tot * (1 - pct) / tot
    print(f'worst bet (against): {team} ${bet:.2f}')
